<template name="calendar_page">
  {{#if selectCalendars}}
    {{> select_calendars}}
  {{else}}
    {{> full_calendar}}
  {{/if}}
</template>

<template name="full_calendar">
  <div class="row-fluid">
    <div class="span10 offset1">
      <div class="cal-preferences text-center">
      {{#if showCalPrefs}}
        <button class="btn btn-inverse hideCalPrefs" id="hideCalPrefs">Hide Instructions</button>
        {{> calendar_prefs}}
      {{else}}
        <button class="btn btn-primary showCalPrefs" id="showCalPrefs">Show Instructions</button>
      {{/if}}
      </div>
      {{#constant}}
      <div id="fullCalendar"></div>
      {{/constant}}
    </div>
  </div>
</template>

<template name="select_calendars">
  <div class="row-fluid">
    <div class="span4 offset4">
      <div class="calendars-select">
        <h3 class="text-center">Select Calendars to Import</h3>
        <ul>
          {{#each calendars}}
            <label class="checkbox calendar-select-input">
              <input type="checkbox" value="{{gCalId}}" {{#if isSelected}}checked{{/if}}>{{summary}}</input>
            </label>
          {{/each}}
        </ul>
        <button id="importCals" class="btn btn-primary calendar-select-button">Save</button>
      </div>
    </div>
  </div>
</template>

<template name="calendar_prefs">
  <div class="row-fluid">
    <div class="span8 offset2">
      <div class="cal-options text-center">
        <h4>Step1:</h4><strong> Import Calendars</strong>
        <div>
          <button class="btn btn-large getCalendars text-center"></button>
          {{#if hasCalendars}}
          <button class="btn getEvents txt-center">Sync Events</button>
          {{/if}}
        </div>
        <form id="calendarPreferences" class="form-horizontal">
          <h4>Step 2:</h4><strong> Select Event Types</strong>
          <div class="eventPreferences">
            <div class="btn-group">
            {{#each eventTypes}}
              <button class="eventBox btn btn-large {{#if checked}}btn-success{{else}}btn-danger{{/if}}" value="{{value}}">{{event}}</button>
            {{/each}}
            </div>
          </div>
          <h4>Step 3:</h4><strong> Days of Week</strong>
          <div class="dayPreferences">
            <div class="btn-group">
            {{#each daysOfWeek}}
              <button class="dayBox btn btn-large {{#if checked}}btn-success{{else}}btn-danger{{/if}}" value="{{value}}">{{day}}</button>
            {{/each}}
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>
